# THREEE-GEO-MAP

[点击这里看一个DEMO](http://www.xdnote.com/test/three-geo-map/index.html);

请不要太介意我这渣渣的效果，因为我也不太会。

### 另外有一个2D版本的,基于D3.js，如果不需要真3D，可以看看
地址: [d3-geo-map代码](https://github.com/ada87/d3-geo-map) , [DEMO](http://www.xdnote.com/test/d3-geo-map/index.html);

## 项目说明



由于Three几乎所有的样式，效果都是由 `JavaScript` 脚本和 `WebGl` 代码拼出来的，所以本来想写的通用一点的，如果代码都需要去配置那就失去了使用意义了。

所以本项目可能比 [d3-geo-map](https://github.com/ada87/d3-geo-map) 更加难用，如果要使用可能必须要 clone 并修改源代码，可能还需要一定的 `threejs` 基本知识才能应用起来。

## 目前缺点

所以项目中存在很多缺陷，目前没时间解决，先放着

1. 目前下载的GEOJSON文件，很多由多段形状组成的地图有空口。（目前不知道使用什么算法可以修复，如果遇到，建议去其它地方重新下载地图资源，可能有些版本没有缺口。）
2. 本人菜鸟，效果渣渣，有three基础可以多多美化。希望美化后把代码发给我，我也好继续学习。
3. 很多控件没有进行高度适配，同时使用会出现问题
4. 为方便各尺度计算。经过自创不太严谨的算法做过地图转换，计算不是很精确，误差在10%左右
5. 由于个人习惯的场景（元素不多，每个元素都可控），所以没有进行 `merge`，如果不需要控制，则可以进行合并获得更好的性能。
6. 定义各种模型时，需要按地图放大倍数计算，放大倍数为：容器高度/地图纬度差,可以通过 mapBuider.getZoom获得
7. 很多动效可以使用 `weggl` 实现，在运动过程时改变time的值即可。可自行研究，内置了一些简单的`shaders`

